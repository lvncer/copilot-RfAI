# GitHub Copilot レビュー指示書

このドキュメントは、GitHub Copilot (`@github-copilot[bot]`) を使って Pull Request (PR) のレビューを依頼する際のガイドラインを定義します。Copilot は人間のレビューアを補完するツールであり、最終的な判断は人間が行います。

## Copilot に期待するレビュー観点

Copilot にレビューを依頼する際は、特に以下の点に注目してフィードバックを求めることが効果的です。

1. **潜在的なバグ:**
   - ロジックのエラー、オフバイワンエラー、null ポインタ参照、リソースリークなどの可能性がないか。
   - エッジケースやコーナーケースが考慮されているか。
2. **セキュリティ脆弱性:**
   - SQL インジェクション、クロスサイトスクリプティング (XSS)、安全でない認証・認可、機密情報のハードコーディングなどの一般的な脆弱性の兆候がないか。
3. **パフォーマンス:**
   - 非効率なループ、過剰なデータベースクエリ、メモリ使用量の問題など、パフォーマンスボトルネックになりそうな箇所がないか。
4. **可読性と保守性:**
   - 変数名、関数名、クラス名が分かりやすいか。
   - コードが過度に複雑になっていないか（例: ネストが深すぎる、関数が長すぎる）。
   - マジックナンバーやハードコードされた文字列が使われていないか。
   - コメントが適切に追加されているか、あるいは不要なコメントがないか。
5. **コーディング規約とベストプラクティス:**
   - プロジェクトで定義されたコーディング規約に準拠しているか。
   - 使用している言語やフレームワークの一般的なベストプラクティスに従っているか。
   - 非推奨の API やライブラリを使用していないか。
6. **エラーハンドリング:**
   - エラーが発生する可能性のある箇所で、適切なエラーハンドリング（try-catch, Result 型など）が行われているか。
   - ユーザーに分かりやすいエラーメッセージが表示されるか。
7. **テスト:**
   - 変更に対するテストコードが不足していないか。
   - テストコード自体に問題がないか。

## Copilot への依頼方法

Pull Request のコメントで `@github-copilot[bot]` をメンションし、レビューしてほしい内容を具体的に記述します。

### 依頼例

- `@github-copilot[bot] このPRの変更点について、特に潜在的なバグやセキュリティ上の問題がないかレビューしてください。`
- `@github-copilot[bot] UserProfile.tsx の変更について、Reactのベストプラクティスに沿っているか、パフォーマンス上の懸念がないか確認してください。`
- `@github-copilot[bot] このPythonスクリプトのエラーハンドリングは十分でしょうか？改善点があれば提案してください。`
- `@github-copilot[bot] このPR全体の可読性と保守性についてフィードバックをお願いします。特に複雑すぎると感じる箇所はありますか？`

## 注意点

- Copilot のレビューは補助的なものです。提案が常に正しいとは限りません。
- 最終的なコードの品質と安全性に対する責任は開発者と人間のレビューアにあります。
- Copilot は設計上の判断や、ビジネスロジックの妥当性までは評価できません。
- スタイルに関する細かい指摘よりも、本質的な問題点（バグ、セキュリティ、パフォーマンス）に焦点を当てるように依頼すると効果的です。
